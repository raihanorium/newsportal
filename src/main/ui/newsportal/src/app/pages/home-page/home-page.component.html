<form [formGroup]="createNewsForm" (ngSubmit)="createNews(createNewsForm.value);" role="form">
    <legend>Create News Entry</legend>

    <div class="form-group">
        <label for="title">Title</label>

        <div class="alert"
             *ngIf="createNewsForm.controls['title'].touched && createNewsForm.get('title').hasError('required')">
            This field is required
        </div>

        <input type="text" class="form-control" id="title" formControlName="title" placeholder="News heading">
    </div>

    <div class="form-group">
        <label for="body">Body</label>

        <div class="alert"
             *ngIf="createNewsForm.controls['body'].touched && createNewsForm.get('body').hasError('required')">
            This field is required
        </div>
        <div class="alert"
             *ngIf="createNewsForm.controls['body'].touched && createNewsForm.get('body').hasError('minlength')">
            Please put at least 40 characters
        </div>

        <textarea class="form-control" id="body" formControlName="body" placeholder="News detail" rows="6"></textarea>
    </div>

    <div class="row">
        <div class="col-md-6">
            <div class="form-group">
                <label for="author">Author</label>

                <div class="alert"
                     *ngIf="createNewsForm.controls['author'].touched && createNewsForm.get('author').hasError('required')">
                    This field is required
                </div>

                <input type="text" class="form-control" id="author" formControlName="author" placeholder="News author">
            </div>
        </div>

        <div class="col-md-6">
            <div class="form-group">
                <label for="author">Date</label>

                <div class="alert"
                     *ngIf="createNewsForm.controls['publishedOn'].touched && createNewsForm.get('publishedOn').hasError('required')">
                    This field is required
                </div>
                <div class="alert"
                     *ngIf="createNewsForm.controls['publishedOn'].touched && createNewsForm.get('publishedOn').hasError('pattern')">
                    Date format must be in dd/mm/yyyy
                </div>

                <input type="text" class="form-control" id="publishedOn" formControlName="publishedOn" placeholder="dd/mm/yyyy">
            </div>
        </div>
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="!createNewsForm.valid">Create</button>
</form>

<div [ngBusy]="busy"></div>